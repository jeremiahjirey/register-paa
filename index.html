<!DOCTYPE html>
<html lang="id">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Register PAA - HMTI</title>
  <link href="https://fonts.googleapis.com/css2?family=Poppins:wght@400;600&display=swap" rel="stylesheet">
  <style>
    * { margin: 0; padding: 0; box-sizing: border-box; font-family: 'Poppins', sans-serif; }
    body {
      background: linear-gradient(135deg, #f3f6fa, #e9edf3);
      min-height: 100vh; display: flex; flex-direction: column;
    }
    header {
      background: linear-gradient(90deg, #1e3c72, #2a6cf4);
      color: white; padding: 20px; text-align: center;
      box-shadow: 0 2px 8px rgba(0,0,0,0.15);
    }
    header h1 { font-size: 1.5rem; }
    header p { font-size: 0.9rem; }

    main { flex: 1; display: flex; justify-content: center; align-items: center; padding: 20px; }

    /* Form */
    .form-container {
      background: white; padding: 30px; border-radius: 10px;
      box-shadow: 0 4px 10px rgba(0,0,0,0.1); width: 100%; max-width: 400px; text-align: center;
    }
    .form-container h2 { margin-bottom: 10px; color: #1e3c72; }
    .form-container p { margin-bottom: 20px; font-size: 0.9rem; color: #444; }
    .form-group { text-align: left; margin-bottom: 15px; }
    .form-group label { display: block; font-weight: 600; margin-bottom: 5px; }
    .form-group input { width: 100%; padding: 10px; border: 1px solid #ccc; border-radius: 6px; }
    button {
      background: linear-gradient(90deg, #1e3c72, #2a6cf4); color: white;
      border: none; padding: 12px; width: 100%; border-radius: 6px;
      font-weight: 600; cursor: pointer; transition: 0.3s;
    }
    button:hover { opacity: 0.9; }

    /* Card */
    .card-container { display: none; text-align: center; }
    .card-title { margin: 20px 0; font-size: 1.3rem; color: #1e3c72; font-weight: 600; }
    .card { 
      width: 350px; margin: 0 auto; border-radius: 10px;
      overflow: hidden; box-shadow: 0 4px 12px rgba(0,0,0,0.15);
      background: white; text-align: left;
    }
    .card-header {
      background: linear-gradient(90deg, #1e3c72, #2a6cf4);
      color: white; padding: 10px 15px; display: flex; justify-content: space-between; align-items: center;
    }
    .card-header img { height: 25px; }
    .card-body { padding: 15px; display: flex; align-items: center; gap: 15px; }
    .profile-img { width: 70px; height: 70px; border-radius: 6px; object-fit: cover; border: 2px solid #ddd; }
    .card-info h3 { margin-bottom: 5px; font-size: 1.1rem; }
    .card-info p { font-size: 0.85rem; margin: 2px 0; }
    .card-footer {
      background: linear-gradient(90deg, #1e3c72, #2a6cf4);
      text-align: center; color: white; padding: 8px; font-weight: 600;
    }
    .card-actions { margin-top: 20px; display: flex; justify-content: center; gap: 15px; }
    .card-actions button { width: auto; padding: 10px 20px; border-radius: 6px; }

    footer {
      background: #1e3c72; color: white; text-align: center; padding: 10px; font-size: 0.85rem;
    }
  </style>
</head>
<body>
  <header>
    <h1>Register PAA</h1>
    <p>Sistem Pendaftaran Anggota HMTI</p>
  </header>

  <main>
    <!-- Form -->
    <div class="form-container" id="form-container">
      <h2>Selamat Datang</h2>
      <p>Lengkapi data diri Anda untuk mendapatkan kartu anggota HMTI</p>
      <form id="registerForm">
        <div class="form-group">
          <label>Nama Lengkap</label>
          <input type="text" id="nama" required placeholder="Masukkan nama lengkap">
        </div>
        <div class="form-group">
          <label>NIM</label>
          <input type="text" id="nim" required placeholder="Contoh: A11.2025.XXXXX">
        </div>
        <div class="form-group">
          <label>Foto Profil (Optional)</label>
          <input type="file" id="foto" accept="image/*">
        </div>
        <button type="submit">Daftar Sekarang</button>
      </form>
    </div>

    <!-- Card -->
    <div class="card-container" id="card-container">
      <h2 class="card-title">Kartu Anggota Anda</h2>
      <p>Selamat! Kartu anggota HMTI Anda telah berhasil dibuat</p>

      <div class="card" id="idCard">
        <div class="card-header">
          <div style="display: flex; align-items: center; gap: 10px;">
            <img src="logo-hmti.svg" alt="Logo HMTI"> 
            <div>
              <div style="font-weight:600;">HMTI</div>
              <small>Teknik Informatika</small>
            </div>
          </div>
          <div style="text-align: right;">
            <div>ID Card</div>
            <small>2025</small>
          </div>
        </div>
        <div class="card-body">
          <img src="" id="cardPhoto" class="profile-img" alt="Profile">
          <div class="card-info">
            <h3 id="cardName"></h3>
            <p><strong>NIM:</strong> <span id="cardNim"></span></p>
            <p><strong>Status:</strong> Anggota Aktif</p>
          </div>
        </div>
        <div class="card-footer">Kartu Anggota HMTI</div>
      </div>

      <div class="card-actions">
        <button onclick="buatBaru()">Buat Baru</button>
        <button onclick="downloadCard()">Download PNG</button>
      </div>
    </div>
  </main>

  <footer>
    Â© 2025 HMTI - Himpunan Mahasiswa Teknik Informatika
  </footer>

  <!-- JS -->
  <script src="https://cdnjs.cloudflare.com/ajax/libs/html2canvas/1.4.1/html2canvas.min.js"></script>
  <script>
    const form = document.getElementById('registerForm');
    const formContainer = document.getElementById('form-container');
    const cardContainer = document.getElementById('card-container');

    form.addEventListener('submit', function(e) {
      e.preventDefault();
      const nama = document.getElementById('nama').value;
      const nim = document.getElementById('nim').value;
      const foto = document.getElementById('foto').files[0];

      document.getElementById('cardName').textContent = nama;
      document.getElementById('cardNim').textContent = nim;

      if (foto) {
        const reader = new FileReader();
        reader.onload = function(e) {
          document.getElementById('cardPhoto').src = e.target.result;
        }
        reader.readAsDataURL(foto);
      } else {
        document.getElementById('cardPhoto').src = "https://via.placeholder.com/70";
      }

      formContainer.style.display = 'none';
      cardContainer.style.display = 'block';
    });

    function buatBaru() {
      form.reset();
      formContainer.style.display = 'block';
      cardContainer.style.display = 'none';
    }

    function downloadCard() {
      const card = document.getElementById('idCard');
      html2canvas(card).then(canvas => {
        const link = document.createElement('a');
        link.download = 'Kartu_HMTI.png';
        link.href = canvas.toDataURL();
        link.click();
      });
    }
  </script>
</body>
</html>
